(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{24121:function(e,t,s){Promise.resolve().then(s.bind(s,57922))},79384:function(e,t,s){"use strict";s.d(t,{s:function(){return r},u:function(){return i}});var a=s(57437),n=s(2265);let l=(0,n.createContext)(),i=e=>{let{children:t}=e,[s,i]=(0,n.useState)(null),[r,c]=(0,n.useState)(null),[d,o]=(0,n.useState)([]);return(0,a.jsx)(l.Provider,{value:{participantDetails:s,setParticipantDetails:i,schoolDetails:r,setSchoolDetails:c,winnerDetails:d,setWinnerDetails:o},children:t})},r=()=>(0,n.useContext)(l)},57922:function(e,t,s){"use strict";s.r(t);var a=s(57437),n=s(2265),l=s(68980),i=s(11422),r=s(47451),c=s(69410),d=s(80600),o=s(8366),m=s(64087),x=s(53375),h=s(99376),u=s(79384),f=s(22744),p=s(49089),j=s(18315);t.default=()=>{let{Option:e}=l.default,[t]=i.Z.useForm(),[s,g]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!0),[b,v]=(0,n.useState)(""),[w,Z]=(0,n.useState)(""),[A,k]=(0,n.useState)(null),[S,E]=(0,n.useState)(!1),[C,H]=(0,n.useState)(null),[P,I]=(0,n.useState)(!1),z=(0,n.useRef)(null),D=(0,h.useRouter)(),{participantDetails:R}=(0,u.s)(),F=async()=>{let e=new FontFace("anekHindi","url('".concat("/mahavir-2550-essay-competition","/AnekDevanagari-ExtraBold.ttf') format('truetype')"));await e.load(),document.fonts.add(e)};(0,n.useEffect)(()=>{R?N(!1):D.push("/"),F()},[R,D]);let T=async e=>{let t=document.createElement("canvas"),s=t.getContext("2d");t.width=1748,t.height=2473;let a=new Image;a.src="/mahavir-2550-essay-competition/raj-participant.jpg";let n=(e,t,a)=>(s.save(),t+a/2-s.measureText(e).width/2);a.onload=()=>{v(e.name),s.drawImage(a,0,0,t.width,t.height),s.font="42px 'anekHindi'",s.fillStyle="#144631",[{text:e.name,x:600,y:995,width:700},{text:"".concat(e.standard,"th"),x:250,y:1120,width:300},{text:e.section?e.section:"-",x:1280,y:1120,width:300},{text:e.school,x:350,y:1250,width:1200},{text:e.village,x:140,y:1380,width:500},{text:e.taluka,x:630,y:1380,width:550},{text:e.district,x:1200,y:1380,width:450}].forEach(e=>{let t=n(e.text,e.x,e.width);s.fillText(e.text,t,e.y)});let l=t.toDataURL("image/jpeg",.8),i=new x.kH({orientation:"portrait",unit:"pt",format:[1748,2473],compress:!0});i.addImage(l,"JPEG",0,0,1748,2473);let r=i.output("dataurlstring");k(i),Z(r),E(!0)},a.onerror=()=>{alert("Failed to load the certificate image. Please check the path.")}},q=()=>{A&&(A.save("".concat(b,"_certificate.pdf")),E(!1),D.push("/"))},L=async e=>{g(!0),H(e),I(!0),setTimeout(()=>{g(!1)},2e3)};return y?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,a.jsx)("img",{className:"h-20 animate-pulse",src:j.Z.src||j.Z,alt:"Loading..."})}):(0,a.jsxs)("section",{className:"",children:[(0,a.jsxs)("div",{className:" flex flex-col h-screen items-center justify-center",children:[(0,a.jsxs)("div",{className:"container  bg-gradient-to-r from-[#ebeded] to-[#fafae1] mx-auto p-5 border border-gray-300 max-w-xl font-Teko",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-4",children:(0,a.jsx)("h1",{className:"text-2xl font-anekHindi font-bold my-3 text-center",children:"प्रमाणपत्र फॉर्म"})}),(0,a.jsxs)(i.Z,{form:t,layout:"vertical",onFinish:L,children:[(0,a.jsx)(r.Z,{gutter:[16,0],children:(0,a.jsx)(c.Z,{xs:24,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"छात्र का नाम"}),name:"name",rules:[{required:!0,message:"कृपया नाम दर्ज करें"},{whitespace:!0}],className:"font-anekHindi",normalize:e=>null==e?void 0:e.replace(/\s+/g," ").trimStart(),children:(0,a.jsx)(d.Z,{autoComplete:"off",className:"!rounded py-2",placeholder:"Enter the name"})})})}),(0,a.jsxs)(r.Z,{gutter:[16,0],children:[(0,a.jsx)(c.Z,{xs:24,sm:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"विद्यालय का नाम"}),name:"school",rules:[{required:!0,message:"कृपया विद्यालय का नाम दर्ज करें"},{whitespace:!0}],normalize:e=>null==e?void 0:e.replace(/\s+/g," ").trimStart(),children:(0,a.jsx)(d.Z,{className:"!rounded py-2",placeholder:"Enter the school name",autoComplete:"off"})})}),(0,a.jsx)(c.Z,{xs:24,sm:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"गाँव"}),name:"village",rules:[{required:!0,message:"कृपया गाँव दर्ज करें"},{whitespace:!0}],normalize:e=>null==e?void 0:e.replace(/\s+/g," ").trimStart(),children:(0,a.jsx)(d.Z,{className:"!rounded py-2",placeholder:"Enter the city name",autoComplete:"off"})})})]}),(0,a.jsxs)(r.Z,{gutter:[16,0],children:[(0,a.jsx)(c.Z,{xs:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"कक्षा"}),name:"standard",rules:[{required:!0,message:"कृपया कक्षा दर्ज करें"}],children:(0,a.jsx)(l.default,{className:"!rounded",placeholder:"Select your standard",children:Array.from({length:7},(t,s)=>(0,a.jsx)(e,{value:s+6,children:s+6},s+6))})})}),(0,a.jsx)(c.Z,{xs:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"वर्ग"}),name:"section",children:(0,a.jsx)(l.default,{className:"!rounded",placeholder:"Select your section",children:["A","B","C","D","E","-"].map(t=>(0,a.jsx)(e,{value:t,children:t},t))})})})]}),(0,a.jsxs)(r.Z,{gutter:[16,0],children:[(0,a.jsx)(c.Z,{xs:24,sm:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"तहसील"}),name:"taluka",rules:[{required:!0,message:"कृपया तहसील दर्ज करें"},{whitespace:!0}],normalize:e=>null==e?void 0:e.replace(/\s+/g," ").trimStart(),children:(0,a.jsx)(d.Z,{className:"!rounded py-2",placeholder:"Enter the taluka name",autoComplete:"off"})})}),(0,a.jsx)(c.Z,{xs:24,sm:12,children:(0,a.jsx)(i.Z.Item,{label:(0,a.jsx)("p",{className:"font-anekHindi",children:"जिला"}),name:"district",rules:[{required:!0,message:"कृपया जिला दर्ज करें"},{whitespace:!0}],normalize:e=>null==e?void 0:e.replace(/\s+/g," ").trimStart(),children:(0,a.jsx)(d.Z,{className:"!rounded py-2",placeholder:"Enter the district name",autoComplete:"off"})})})]}),(0,a.jsx)(i.Z.Item,{children:(0,a.jsx)(o.ZP,{htmlType:"submit",className:"bg-gray-800 !text-white w-full !py-5 rounded hover:!bg-gray-700",children:"Submit"})})]})]}),(0,a.jsx)(m.Z,{open:P,onCancel:()=>I(!1),footer:(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)(o.ZP,{className:"!rounded px-4 py-2 border border-gray-300 hover:bg-gray-100",onClick:()=>{I(!1)},icon:(0,a.jsx)(f.zmo,{size:20}),children:"Edit Details"},"edit"),(0,a.jsx)(o.ZP,{className:"!rounded px-4 py-2 bg-gray-800 text-white hover:!bg-gray-700",icon:(0,a.jsx)(p.Z1Y,{size:18}),iconPosition:"end",type:"primary",onClick:()=>{I(!1),T(C)},children:"Confirm and Proceed"},"download")]}),children:C&&(0,a.jsxs)("div",{className:"space-y-6 font-anekHindi text-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-center text-gray-800",children:"छात्र की डिटेल"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"छात्र का नाम:"})," ",C.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"विद्यालय का नाम:"})," ",C.school]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"कक्षा:"})," ",C.standard,"th"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"वर्ग:"})," ",C.section||"-"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"गाँव:"})," ",C.village]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"तहसील:"})," ",C.taluka]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"जिला:"})," ",C.district]})]})]})}),S&&(0,a.jsx)("div",{className:"hidden md:flex fixed inset-0 bg-gray-800 bg-opacity-50 items-center justify-center z-50",children:(0,a.jsxs)("div",{ref:z,className:"w-[90%] p-4 max-w-[800px]",children:[(0,a.jsx)("iframe",{src:w,width:"100%",height:"600",title:"PDF Preview",className:"absolute inset-0 w-full h-full"}),(0,a.jsx)("div",{className:"flex absolute bottom-4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 justify-between mt-4",children:(0,a.jsxs)("button",{className:"py-2 flex items-center justify-center gap-1 rounded px-4 bg-gray-800 text-gray-100",onClick:q,children:["Download",(0,a.jsx)("span",{children:(0,a.jsx)(f.uKn,{size:18})})]})})]})})]}),S&&(0,a.jsx)("div",{className:"md:hidden fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:(0,a.jsxs)("div",{className:"relative p-4 bg-gray-100 rounded-md",children:[(0,a.jsx)("p",{className:"text-gray-800 font-semibold font-NunitoSans text-lg text-center",children:"Your certificate is ready to download!"}),(0,a.jsx)("div",{className:"flex justify-center mt-4",children:(0,a.jsxs)("button",{onClick:q,className:"bg-gray-800 flex items-center justify-center gap-1 rounded text-gray-100 py-2 px-4 hover:bg-gray-700",children:["Download",(0,a.jsx)("span",{children:(0,a.jsx)(f.uKn,{size:18})})]})})]})})]})}},18315:function(e,t){"use strict";t.Z={src:"/mahavir-2550-essay-competition/_next/static/media/adhyatm.235ad5ad.png",height:352,width:240,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAqUlEQVR42mMAgTMbF3OcXNRsDmLfW9PKCBa8tahc5P7ckAOPZ8cIMMDAtglRLve2dP5/sj7dHSxwIL5Q+2qX88E7K5L/353pc3CPY6I2w8VpM94/XN75/04Xw8/7k0P/X5oy+R3DycK0Fbdru/4/iS/4eyc78f/J3IjlDE+WFra9mNH1/8XKTd9fzOz//2RJYRvDv1fXpT6+f2B288NL/Q9v7xj9f3FVEgDH3VauNEANCwAAAABJRU5ErkJggg==",blurWidth:5,blurHeight:8}}},function(e){e.O(0,[51,699,505,38,795,892,87,971,117,744],function(){return e(e.s=24121)}),_N_E=e.O()}]);