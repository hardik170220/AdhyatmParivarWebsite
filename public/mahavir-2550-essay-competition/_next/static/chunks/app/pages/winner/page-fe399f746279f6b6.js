(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{24950:function(t,e,a){Promise.resolve().then(a.bind(a,84794))},99376:function(t,e,a){"use strict";var i=a(35475);a.o(i,"useRouter")&&a.d(e,{useRouter:function(){return i.useRouter}})},79384:function(t,e,a){"use strict";a.d(e,{s:function(){return o},u:function(){return l}});var i=a(57437),n=a(2265);let s=(0,n.createContext)(),l=t=>{let{children:e}=t,[a,l]=(0,n.useState)(null),[o,r]=(0,n.useState)(null),[d,c]=(0,n.useState)([]);return(0,i.jsx)(s.Provider,{value:{participantDetails:a,setParticipantDetails:l,schoolDetails:o,setSchoolDetails:r,winnerDetails:d,setWinnerDetails:c},children:e})},o=()=>(0,n.useContext)(s)},84794:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=a(57437),n=a(2265),s=a(53375),l=a(99376),o=a(79384),r=a(18315),d={src:"/mahavir-2550-essay-competition/_next/static/media/congrats.165f5008.png",height:372,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR4nAEIAff+AbnY3gP9Bgv9DP/8ABPapWgRDfr/4Kh8tAs0TvgIx7LtAbHb6QAGAf0RAwECjiUE5E0E1I0TvcoH4DpFOVXyBRzMAa7GyQMFFBzJDwoKMx3wwgDosE/75jrBBQshKaoOEhFXAazW418LBgOgEQwL+h7szgXl5+oB9SdC//P4+wHz+Pk6AaTS4IAJBwd/HQX6/RbcrwMEHTYA3Q4o/ezy9gP1+PtaAY7L4T8SAvu/D+XaAZ2Ek/1icFYBESc0Asz5Cu8QDwYsAY+Ts5DM5u5vIysgAB8B9AAbBgAAEPz7/vT3+gHN+Q9QAdKNiFTzEh6nCwcE8BD+9r4W5NKZuYSOIgpCQpYVOEScrup1gm7qrtUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},c=a(22744),u=()=>{var t,e,a,u,h,m,g,f,x,A,v;let{winnerDetails:y}=(0,o.s)(),[p,b]=(0,n.useState)(!0),[w,j]=(0,n.useState)(null),E=(0,l.useRouter)(),N=(null==y?void 0:null===(t=y.data)||void 0===t?void 0:t.name)||"John Doe",D=(null==y?void 0:null===(e=y.data)||void 0===e?void 0:e.DOB)||"01/01/2000",S=(null==y?void 0:null===(a=y.data)||void 0===a?void 0:a.level)||"assurance-d-j",k=(null==y?void 0:null===(u=y.data)||void 0===u?void 0:u.standard)||"10th",C=(null==y?void 0:null===(h=y.data)||void 0===h?void 0:h.section)||"A",R=(null==y?void 0:null===(m=y.data)||void 0===m?void 0:m.school)||"ABC High School",B=(null==y?void 0:null===(g=y.data)||void 0===g?void 0:g.village)||"My Village",H=(null==y?void 0:null===(f=y.data)||void 0===f?void 0:f.pincode)||"123456",P=(null==y?void 0:null===(x=y.data)||void 0===x?void 0:x.taluka)||"My Taluka",I=(null==y?void 0:null===(A=y.data)||void 0===A?void 0:A.district)||"My District",T=(null==y?void 0:null===(v=y.data)||void 0===v?void 0:v.rank)||"1",F="assurance-d-s"===S||"assurance-d-j"===S,L="district-j"===S||"district-s"===S,O="state-s"===S||"state-j"===S||"state"===S,U=(t,e)=>F?"/aashwashan.jpg":null,Q=async()=>{let t=new FontFace("anekHindi","url('".concat("/mahavir-2550-essay-competition","/AnekDevanagari-ExtraBold.ttf') format('truetype')"));await t.load(),document.fonts.add(t)};(0,n.useEffect)(()=>{!y||Object.keys(y).length<1?E.push("/"):b(!1)},[y,E]),(0,n.useEffect)(()=>{(async()=>{if(!p&&F){await Q();let t=document.createElement("canvas"),e=t.getContext("2d");t.width=1748,t.height=2480;let a=new Image;a.src="/mahavir-2550-essay-competition"+U(S,T);let i=(t,a,i)=>(e.save(),a+i/2-e.measureText(t).width/2);a.onload=()=>{e.imageSmoothingEnabled=!0,e.imageSmoothingQuality="high",e.clearRect(0,0,t.width,t.height),e.drawImage(a,0,0,t.width,t.height),e.fillStyle="#144631",e.font="42px anekHindi",[{text:N,x:600,y:1e3,width:700},{text:"".concat(k,"th"),x:250,y:1130,width:300},{text:C||"-",x:1280,y:1130,width:300},{text:R,x:350,y:1255,width:1200},{text:B,x:120,y:1390,width:500},{text:P,x:630,y:1390,width:550},{text:I,x:1200,y:1390,width:450}].forEach(t=>{let a=i(t.text,t.x,t.width);e.fillText(t.text,a,t.y)}),z(t)},a.onerror=()=>{console.error("Error loading image.")}}})()},[p,S,N,D,k,C,R,B,H,P,I,F]);let z=t=>{if(t){let e=t.toDataURL("image/jpeg",.8),a=new s.kH({orientation:"portrait",unit:"pt",format:[1748,2480],compress:!0});a.addImage(e,"JPEG",0,0,1748,2480,void 0,"FAST");let i=a.output("blob");j(URL.createObjectURL(i))}},K=()=>{if(w){let t=document.createElement("a");t.href=w,t.download="".concat(N,"_certificate.pdf"),t.click(),E.push("/")}};return p?(0,i.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,i.jsx)("img",{className:"h-20 animate-pulse",src:r.Z.src||r.Z,alt:"Loading..."})}):L||O?(0,i.jsx)("div",{className:"min-h-screen flex items-center font-anekHindi justify-center bg-gradient-to-r from-[#ebeded] to-[#fafae1] px-4",children:(0,i.jsxs)("div",{className:"rounded p-8 max-w-lg w-full text-center",children:[(0,i.jsx)("img",{src:d.src||d,alt:"Trophy",className:"w-44 mx-auto mb-6"}),(0,i.jsxs)("h1",{className:"text-3xl font-semibold text-gray-800 mb-4",children:["बधाई, ",N,"!"]}),(0,i.jsx)("p",{className:"text-lg font-semibold text-gray-600 mb-6",children:O?"आप राज्य स्तरीय विजेता हैं! \uD83C\uDFC6":"आप जिला स्तरीय विजेता हैं! \uD83C\uDFC6"}),(0,i.jsx)("p",{className:"text-gray-600 font-anekHindi font-semibold mb-8",children:"पुरस्कार समारोह में आपका प्रमाणपत्र और पुरस्कार आपको सौंप दिया जाएगा।"}),(0,i.jsx)("button",{onClick:()=>{E.push("/")},className:"bg-black text-white py-3 px-8 rounded hover:bg-gray-800 transition duration-300",children:"Back to Home"})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"hidden sm:flex font-NunitoSans flex-col items-center justify-center bg-gray-100",children:[w&&(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)("iframe",{src:w,title:"Certificate Preview",className:"w-full h-[593px] border shadow-lg"})}),(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("button",{onClick:K,className:"bg-[#323639]  flex items-center justify-center gap-1 absolute bottom-4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white py-2 px-6 rounded hover:bg-gray-700 transition duration-300 ease-in-out",children:["Download",(0,i.jsx)("span",{children:(0,i.jsx)(c.uKn,{size:18})})]})})]}),(0,i.jsx)("div",{className:"md:hidden fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:(0,i.jsxs)("div",{className:"relative p-4 bg-gray-100 rounded-md",children:[(0,i.jsx)("p",{className:"text-gray-800 text-lg text-center",children:"Your certificate is ready to download!"}),(0,i.jsx)("div",{className:"flex justify-center mt-4",children:(0,i.jsxs)("button",{onClick:K,className:"bg-[#323639] flex items-center justify-center gap-1 text-gray-100 py-2 px-4 hover:bg-gray-800",children:["Download",(0,i.jsx)("span",{children:(0,i.jsx)(c.uKn,{size:18})})]})})]})})]})}},18315:function(t,e){"use strict";e.Z={src:"/mahavir-2550-essay-competition/_next/static/media/adhyatm.235ad5ad.png",height:352,width:240,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAqUlEQVR42mMAgTMbF3OcXNRsDmLfW9PKCBa8tahc5P7ckAOPZ8cIMMDAtglRLve2dP5/sj7dHSxwIL5Q+2qX88E7K5L/353pc3CPY6I2w8VpM94/XN75/04Xw8/7k0P/X5oy+R3DycK0Fbdru/4/iS/4eyc78f/J3IjlDE+WFra9mNH1/8XKTd9fzOz//2RJYRvDv1fXpT6+f2B288NL/Q9v7xj9f3FVEgDH3VauNEANCwAAAABJRU5ErkJggg==",blurWidth:5,blurHeight:8}},41154:function(t,e,a){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a.d(e,{Z:function(){return i}})}},function(t){t.O(0,[51,505,892,971,117,744],function(){return t(t.s=24950)}),_N_E=t.O()}]);